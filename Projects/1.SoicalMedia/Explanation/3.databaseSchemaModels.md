-  we are going to be using mongoDb
-  we will use mongoose library in order to connect to db
- let's first create db connection function
```js
const mongoose = require('mongoose')

const ConnectToDb = async ()=> {
    await mongoose.connect("mongodb://localhost:27017/SocialMedia")
}

module.exports = ConnectToDb
```

-  we always should first connect to db and then start the server
-  hence we should import this method in main file and then start db and then server as shown below

```js
const express = require("express")
const {AdminAuth, UserAuth} = require("./middlewares/auth")
const ConnectToDb = require("./config/database")

const app = express()


ConnectToDb().then(()=> {
    console.log("Db connected successfully")
    app.listen("3000", (err)=> {
        console.log('running on port 3000')
    })
}).catch((err) => {
    console.log("error from database....", err)
})
```

-  now once we are all set to connect to db then we can start creating schema of the collection and make a model and then can start saving data to database
```
const mongoose = require("mongoose")

const userSchema = new mongoose.Schema({
    firstName: {
        type: String
    },
    lastName: {
        type: String
    },
    email: {
        type: String
    },
    age: {
        type: Number
    },
    gender: {
        type: String
    }
})

const UserModel = mongoose.model("User", userSchema)
module.exports = UserModel

```

-  above code is to create a model and userSchema for users, we have created this in separate file in model folder in UserModel file
-  and now to save data , let's just create a simple api to save some data to user collection
```
app.post("/user", async (req, res)=> {
    try {
        const user = new UserModel({
            firstName: "test",
            lastName: "user",
            age: 23,
            email:"test@user.com",
            gender:"male"
        })

        await user.save()
        res.status(201).send("user added successfully")
    }catch(err){
        res.status(500).send("something went wrong")
    }

})
```
